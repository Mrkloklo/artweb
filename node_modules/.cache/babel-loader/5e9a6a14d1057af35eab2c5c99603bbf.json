{"remainingRequest":"/Users/gujiahao/Documents/work/github/artweb/node_modules/thread-loader/dist/cjs.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v3/ejs.h5.js","dependencies":[{"path":"/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v3/ejs.h5.js","mtime":1588230106569},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/thread-loader/dist/cjs.js","mtime":1579587183081},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js","mtime":1585810045725},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1579587173378}],"contextDependencies":[],"result":["import ui from \"./ui\";\nimport storage from \"./storage.js\";\nvar hybrid = ejs;\nvar innerUtil = hybrid.innerUtil;\n\nfunction uiMixin() {\n  hybrid.extendModule('ui', [{\n    namespace: 'toast',\n    os: ['h5'],\n    defaultParams: {\n      message: ''\n    },\n    runCode: function runCode() {\n      for (var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n        rest[_key] = arguments[_key];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'message');\n      var options = args[0];\n      var resolve = args[1];\n      ui.toast(options);\n      options.success && options.success();\n      resolve && resolve();\n    }\n  }, {\n    namespace: 'alert',\n    os: ['h5'],\n    defaultParams: {\n      title: '',\n      message: '',\n      buttonName: '确定'\n    },\n    runCode: function runCode() {\n      for (var _len2 = arguments.length, rest = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        rest[_key2] = arguments[_key2];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'title', 'message', 'buttonName');\n      var options = args[0];\n      var resolve = args[1];\n      ui.alert(options).then(function () {\n        options.success && options.success();\n        resolve && resolve({});\n      });\n    }\n  }, {\n    namespace: 'confirm',\n    os: ['h5'],\n    defaultParams: {\n      title: '',\n      message: '',\n      buttonLabels: ['取消', '确定']\n    },\n    runCode: function runCode() {\n      for (var _len3 = arguments.length, rest = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        rest[_key3] = arguments[_key3];\n      }\n\n      var args = rest;\n      var options = args[0];\n      var resolve = args[1];\n      ui.confirm(options).then(function () {\n        options.success && options.success(1);\n        resolve && resolve(1);\n      }).catch(function () {\n        options.success && options.success(0);\n        resolve && resolve(0);\n      });\n    }\n  }]);\n}\n\nfunction storageMixin() {\n  hybrid.extendModule('storage', [{\n    namespace: 'getItem',\n    os: ['h5'],\n    runCode: function runCode(params, resolve, reject) {\n      var options = params;\n      var success = options.success;\n      var error = options.error;\n\n      if (typeof options.key === 'string') {\n        options.key = [options.key];\n      }\n\n      storage.getItem(options, {\n        success: success,\n        error: error,\n        resolve: resolve,\n        reject: reject\n      });\n    }\n  }, {\n    namespace: 'setItem',\n    os: ['h5'],\n    runCode: function runCode(params, resolve, reject) {\n      var options = params;\n      var success = options.success;\n      var error = options.error;\n      storage.setItem(options, {\n        resolve: resolve,\n        reject: reject,\n        success: success,\n        error: error\n      });\n    }\n  }, {\n    namespace: 'removeItem',\n    os: ['h5'],\n    runCode: function runCode(params, resolve, reject) {\n      var options = params;\n      var success = options.success;\n      var error = options.error;\n\n      if (typeof options.key === 'string') {\n        options.key = [options.key];\n      }\n\n      storage.removeItem(options, {\n        resolve: resolve,\n        reject: reject,\n        success: success,\n        error: error\n      });\n    }\n  }]);\n}\n\nfunction pageMixin() {\n  hybrid.extendModule('page', [{\n    namespace: 'open',\n    os: ['h5'],\n    defaultParams: {\n      pageUrl: '',\n      data: {}\n    },\n    runCode: function runCode() {\n      for (var _len4 = arguments.length, rest = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        rest[_key4] = arguments[_key4];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'pageUrl', 'data');\n      var options = args[0];\n      options.pageUrl = innerUtil.getFullUrlByParams(options.pageUrl, options.data);\n      window.location.href = options.pageUrl;\n    }\n  }, {\n    namespace: 'close',\n    os: ['h5'],\n    runCode: function runCode() {\n      if (window.history.length > 1) {\n        window.history.back();\n      }\n    }\n  }, {\n    namespace: 'reload',\n    os: ['h5'],\n    runCode: function runCode() {\n      window.location.reload();\n    }\n  }]);\n}\n\nfunction deviceMixin() {\n  hybrid.extendModule('device', [{\n    namespace: 'callPhone',\n    os: ['h5'],\n    defaultParams: {\n      phoneNum: ''\n    },\n    runCode: function runCode() {\n      for (var _len5 = arguments.length, rest = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        rest[_key5] = arguments[_key5];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'phoneNum');\n      var phoneNum = args[0].phoneNum;\n      window.location.href = \"tel:\".concat(phoneNum);\n    }\n  }, {\n    namespace: 'sendMsg',\n    os: ['h5'],\n    defaultParams: {\n      phoneNum: '',\n      message: ''\n    },\n    runCode: function runCode() {\n      for (var _len6 = arguments.length, rest = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        rest[_key6] = arguments[_key6];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'phoneNum', 'message');\n      var options = args[0];\n      window.location.href = \"sms:\".concat(options.phoneNum, \"?body=\").concat(options.message);\n    }\n  }, {\n    namespace: 'sendMail',\n    os: ['h5'],\n    defaultParams: {\n      mail: '',\n      subject: '',\n      cc: ''\n    },\n    runCode: function runCode() {\n      for (var _len7 = arguments.length, rest = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        rest[_key7] = arguments[_key7];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'mail', 'subject', 'cc');\n      var options = args[0];\n      window.location.href = \"mailto:\".concat(options.mail, \"?subject=\").concat(options.subject, \"&cc=\").concat(options.cc);\n    }\n  }]);\n}\n\nuiMixin();\nstorageMixin();\npageMixin();\ndeviceMixin();",null]}