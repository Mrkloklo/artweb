{"remainingRequest":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/eslint-loader/index.js??ref--13-0!/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v2/epoint.moapi.v2.h5.js","dependencies":[{"path":"/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v2/epoint.moapi.v2.h5.js","mtime":1588230106567},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _typeof from \"/Users/gujiahao/Documents/work/github/artweb/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"vant/es/dialog/style\";\nimport _Dialog from \"vant/es/dialog\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport Config from '@shared/config';\n\nfunction nativeUIMixin() {\n  ejs.extendFucObj('nativeUI', {\n    toast: function toast(options) {\n      if (!ejs.os.h5) {\n        return;\n      }\n\n      var msg = '';\n\n      if (typeof options === 'string' || typeof options === 'number') {\n        msg = options;\n      } else {\n        msg = options.message;\n      }\n\n      _Toast(msg);\n    },\n    alert: function alert() {\n      if (!ejs.os.h5) {\n        return;\n      }\n\n      for (var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n        rest[_key] = arguments[_key];\n      }\n\n      var args = rest;\n      var values = {\n        title: '',\n        message: ''\n      };\n\n      if (args.length > 1) {\n        values.title = args[1];\n        values.message = args[0];\n      } else {\n        var _args$ = args[0],\n            message = _args$.message,\n            title = _args$.title;\n        values.title = title;\n        values.message = message;\n      }\n\n      _Dialog.alert(values);\n    },\n    confirm: function confirm() {\n      for (var _len2 = arguments.length, rest = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        rest[_key2] = arguments[_key2];\n      }\n\n      var args = rest;\n      var params = args[0];\n      var confirmParams = {\n        title: '',\n        message: '',\n        btn1: '确认',\n        btn2: '取消',\n        cancelable: 0\n      };\n      var callback;\n\n      if (_typeof(params) === 'object') {\n        confirmParams = Object.assign(confirmParams, params);\n        callback = args[1];\n      } else if (args.length === 3) {\n        confirmParams.message = args[0];\n        confirmParams.title = args[1];\n        callback = args[2];\n      } else {\n        confirmParams.message = args[0];\n        callback = args[1];\n      }\n\n      _Dialog.confirm({\n        title: confirmParams.title,\n        message: confirmParams.message,\n        cancelButtonText: confirmParams.btn1,\n        confirmButtonText: confirmParams.btn2,\n        cancelable: confirmParams.cancelable\n      }).then(function () {\n        callback && callback(-2, confirmParams.btn2, {\n          code: 1,\n          result: {\n            which: -2\n          }\n        });\n      }).catch(function () {\n        callback && callback(-1, confirmParams.btn1, {\n          code: 1,\n          result: {\n            which: -1\n          }\n        });\n      });\n    }\n  });\n}\n\nfunction tokenMixin() {\n  ejs.extendFucObj('oauth', {\n    getToken: function getToken(callback, defaultValue) {\n      if (ejs.os.ejs) {\n        return;\n      }\n\n      var configToken = '';\n      Config.token.getToken(function (token) {\n        configToken = token;\n      });\n      var res = {\n        code: 1,\n        msg: '',\n        result: {\n          token: defaultValue || configToken\n        }\n      };\n      callback && callback(res.result, res.msg, res);\n    }\n  });\n}\n\nfunction sqlMixin() {\n  var localStorage = window.localStorage;\n  ejs.extendFucObj('sql', {\n    setConfigValue: function setConfigValue(key, value, callback) {\n      if (ejs.os.ejs) {\n        return;\n      }\n\n      key = key || '';\n\n      try {\n        if (key && value) {\n          if (_typeof(value) === 'object') {\n            value = JSON.stringify(value);\n            localStorage.setItem(key, value);\n          }\n        }\n      } catch (err) {\n        if (err.msg === 'QuotaExceededError') {\n          console.error(\"\\u8D85\\u51FA\\u672C\\u5730\\u5B58\\u50A8\\u9650\\u989D\\uFF0C\\u5EFA\\u8BAE\\u5148\\u6E05\\u9664\\u4E00\\u4E9B\\u65E0\\u7528\\u7A7A\\u95F4\\uFF01\\u66F4\\u591A\\u4FE1\\u606F: \".concat(JSON.stringify(err)));\n        } else {\n          console.error(\"localStorage \\u5B58\\u503C\\u51FA\\u9519\\uFF0C\\u66F4\\u591A\\u4FE1\\u606F\\uFF1A\".concat(JSON.stringify(err)));\n        }\n      }\n\n      var res = {\n        code: 1,\n        msg: '',\n        result: {}\n      };\n      callback && callback(res.result, res.msg, res);\n    },\n    getConfigValue: function getConfigValue(key, callback) {\n      var item = '';\n      key = key || '';\n\n      try {\n        item = localStorage.getItem(key);\n      } catch (err) {\n        console.error(\"localStorage \\u53D6\\u503C\\u51FA\\u9519\\uFF0C\\u66F4\\u591A\\u4FE1\\u606F\\uFF1A\".concat(JSON.stringify(err)));\n      }\n\n      var res = {\n        code: 1,\n        msg: '',\n        result: {\n          value: item\n        }\n      };\n      callback && callback(res.result, res.msg, res);\n    }\n  });\n}\n\nnativeUIMixin();\ntokenMixin();\nsqlMixin();",{"version":3,"sources":["/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v2/epoint.moapi.v2.h5.js"],"names":["Config","nativeUIMixin","ejs","extendFucObj","toast","options","os","h5","msg","message","alert","rest","args","values","title","length","confirm","params","confirmParams","btn1","btn2","cancelable","callback","Object","assign","cancelButtonText","confirmButtonText","then","code","result","which","catch","tokenMixin","getToken","defaultValue","configToken","token","res","sqlMixin","localStorage","window","setConfigValue","key","value","JSON","stringify","setItem","err","console","error","getConfigValue","item","getItem"],"mappings":"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","sourcesContent":["import {\n  Toast,\n  Dialog\n} from 'vant';\nimport Config from '@shared/config';\n\nfunction nativeUIMixin() {\n  ejs.extendFucObj('nativeUI', {\n    toast(options) {\n      if (!ejs.os.h5) {\n        return;\n      }\n\n      let msg = '';\n\n      if (typeof options === 'string' || typeof options === 'number') {\n        msg = options;\n      } else {\n        msg = options.message;\n      }\n\n      Toast(msg);\n    },\n    alert(...rest) {\n      if (!ejs.os.h5) {\n        return;\n      }\n\n      const args = rest;\n      const values = {\n        title: '',\n        message: ''\n      };\n\n      if (args.length > 1) {\n        values.title = args[1];\n        values.message = args[0];\n      } else {\n        let {\n          message,\n          title\n        } = args[0];\n\n        values.title = title;\n        values.message = message;\n      }\n\n      Dialog.alert(values);\n    },\n    confirm(...rest) {\n      const args = rest;\n      const params = args[0];\n      let confirmParams = {\n        title: '',\n        message: '',\n        btn1: '确认',\n        btn2: '取消',\n        cancelable: 0\n      };\n      let callback;\n\n      if (typeof params === 'object') {\n        confirmParams = Object.assign(confirmParams, params);\n        callback = args[1];\n      } else if (args.length === 3) {\n        confirmParams.message = args[0];\n        confirmParams.title = args[1];\n        callback = args[2];\n      } else {\n        confirmParams.message = args[0];\n        callback = args[1];\n      }\n\n      Dialog.confirm({\n        title: confirmParams.title,\n        message: confirmParams.message,\n        cancelButtonText: confirmParams.btn1,\n        confirmButtonText: confirmParams.btn2,\n        cancelable: confirmParams.cancelable\n      }).then(() => {\n        callback && callback(-2, confirmParams.btn2, {\n          code: 1,\n          result: {\n            which: -2\n          }\n        });\n      }).catch(() => {\n        callback && callback(-1, confirmParams.btn1, {\n          code: 1,\n          result: {\n            which: -1\n          }\n        });\n      });\n    }\n  });\n}\n\nfunction tokenMixin() {\n  ejs.extendFucObj('oauth', {\n    getToken(callback, defaultValue) {\n      if (ejs.os.ejs) {\n        return;\n      }\n\n      var configToken = '';\n\n      Config.token.getToken(function (token) {\n        configToken = token;\n      });\n\n      var res = {\n        code: 1,\n        msg: '',\n        result: {\n          token: defaultValue || configToken\n        }\n      };\n\n      callback && callback(res.result, res.msg, res);\n    }\n  });\n}\n\nfunction sqlMixin() {\n  const localStorage = window.localStorage;\n\n  ejs.extendFucObj('sql', {\n    setConfigValue (key, value, callback) {\n      if (ejs.os.ejs) {\n        return;\n      }\n\n      key = key || '';\n\n      try {\n        if (key && value) {\n          if (typeof value === 'object') {\n            value = JSON.stringify(value);\n            localStorage.setItem(key, value);\n          }\n        }\n      } catch (err) {\n        if (err.msg === 'QuotaExceededError') {\n          console.error(`超出本地存储限额，建议先清除一些无用空间！更多信息: ${JSON.stringify(err)}`);\n        } else {\n          console.error(`localStorage 存值出错，更多信息：${JSON.stringify(err)}`);\n        }\n      }\n\n      var res = {\n        code: 1,\n        msg: '',\n        result: {}\n      };\n\n      callback && callback(res.result, res.msg, res);\n    },\n    getConfigValue (key, callback) {\n      var item = '';\n\n      key = key || '';\n\n      try {\n        item = localStorage.getItem(key);\n      } catch (err) {\n        console.error(`localStorage 取值出错，更多信息：${JSON.stringify(err)}`);\n      }\n\n      var res = {\n        code: 1,\n        msg: '',\n        result: {\n          value: item\n        }\n      };\n\n      callback && callback(res.result, res.msg, res);\n    }\n  });\n}\n\nnativeUIMixin();\ntokenMixin();\nsqlMixin();\n"]}]}