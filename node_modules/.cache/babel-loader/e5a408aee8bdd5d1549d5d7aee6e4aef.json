{"remainingRequest":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gujiahao/Documents/work/github/artweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gujiahao/Documents/work/github/artweb/src/showcase/minirefresh.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gujiahao/Documents/work/github/artweb/src/showcase/minirefresh.vue","mtime":1588230106616},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js","mtime":1585810045725},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/vue-loader/lib/index.js","mtime":1585810053320}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport vanHeader from '@components/header';\nimport vanCell from '@components/cell';\nimport 'minirefresh';\nimport 'minirefresh/dist/debug/minirefresh.css';\nimport Util from '@utils';\nvar Console = console;\nexport default {\n  name: 'Pulltorefresh',\n  components: {\n    vanHeader: vanHeader,\n    vanCell: vanCell\n  },\n  data: function data() {\n    return {\n      miniRefresh: null,\n      listdata: [],\n      requestDelayTime: 600,\n      pageindex: 0\n    };\n  },\n  methods: {\n    requestAjax: function requestAjax(eventType) {\n      var _this = this;\n\n      if (eventType === 'down') {\n        this.pageindex = 0;\n      }\n\n      Util.ajax({\n        url: 'http://115.29.151.25:8012/request.php?action=testV7List',\n        data: JSON.stringify({\n          token: 'RXBvaW50X1dlYlNlcml2Y2VfKiojIzA2MDE=',\n          params: {\n            pageindex: this.pageindex++,\n            pagesize: 10,\n            keyword: 'type1'\n          }\n        }),\n        success: function success(_ref) {\n          var custom = _ref.custom;\n          var infolist = custom.infolist || [];\n          var len = infolist.length;\n          var miniRefresh = _this.miniRefresh;\n\n          if (len > 0) {\n            setTimeout(function () {\n              if (eventType === 'down') {\n                _this.listdata = infolist;\n                miniRefresh.endDownLoading(true);\n              } else {\n                infolist.forEach(function (e) {\n                  _this.listdata.push(e);\n                });\n                miniRefresh.endUpLoading(false);\n              }\n            }, _this.requestDelayTime);\n          } else {\n            if (eventType === 'down') {\n              _this.listdata = [];\n              miniRefresh.endDownLoading(true);\n            } else {\n              miniRefresh.endUpLoading(true);\n            }\n          }\n        },\n        error: function error(err) {\n          Console.error(err);\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.miniRefresh = new MiniRefresh({\n      container: '#minirefresh',\n      down: {\n        callback: function callback() {\n          _this2.requestAjax('down');\n        }\n      },\n      up: {\n        isAuto: true,\n        callback: function callback() {\n          _this2.requestAjax('up');\n        }\n      }\n    });\n  }\n};",{"version":3,"sources":["minirefresh.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,SAAA,MAAA,oBAAA;AACA,OAAA,OAAA,MAAA,kBAAA;AACA,OAAA,aAAA;AACA,OAAA,wCAAA;AACA,OAAA,IAAA,MAAA,QAAA;AAEA,IAAA,OAAA,GAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,OAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,IADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,gBAAA,EAAA,GAHA;AAIA,MAAA,SAAA,EAAA;AAJA,KAAA;AAMA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,SADA,EACA;AAAA;;AACA,UAAA,SAAA,KAAA,MAAA,EAAA;AACA,aAAA,SAAA,GAAA,CAAA;AACA;;AAEA,MAAA,IAAA,CAAA,IAAA,CAAA;AACA,QAAA,GAAA,EAAA,yDADA;AAEA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,KAAA,EAAA,sCADA;AAEA,UAAA,MAAA,EAAA;AACA,YAAA,SAAA,EAAA,KAAA,SAAA,EADA;AAEA,YAAA,QAAA,EAAA,EAFA;AAGA,YAAA,OAAA,EAAA;AAHA;AAFA,SAAA,CAFA;AAUA,QAAA,OAAA,EAAA,uBAAA;AAAA,cAAA,MAAA,QAAA,MAAA;AACA,cAAA,QAAA,GAAA,MAAA,CAAA,QAAA,IAAA,EAAA;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,MAAA;AACA,cAAA,WAAA,GAAA,KAAA,CAAA,WAAA;;AAEA,cAAA,GAAA,GAAA,CAAA,EAAA;AACA,YAAA,UAAA,CAAA,YAAA;AACA,kBAAA,SAAA,KAAA,MAAA,EAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,QAAA;AACA,gBAAA,WAAA,CAAA,cAAA,CAAA,IAAA;AACA,eAHA,MAGA;AACA,gBAAA,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA;AACA,iBAFA;AAGA,gBAAA,WAAA,CAAA,YAAA,CAAA,KAAA;AACA;AACA,aAVA,EAUA,KAAA,CAAA,gBAVA,CAAA;AAWA,WAZA,MAYA;AACA,gBAAA,SAAA,KAAA,MAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,cAAA,WAAA,CAAA,cAAA,CAAA,IAAA;AACA,aAHA,MAGA;AACA,cAAA,WAAA,CAAA,YAAA,CAAA,IAAA;AACA;AACA;AACA,SAnCA;AAoCA,QAAA,KAAA,EAAA,eAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,GAAA;AACA;AAtCA,OAAA;AAwCA;AA9CA,GAdA;AA8DA,EAAA,OA9DA,qBA8DA;AAAA;;AACA,SAAA,WAAA,GAAA,IAAA,WAAA,CAAA;AACA,MAAA,SAAA,EAAA,cADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,oBAAA;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,MAAA;AACA;AAHA,OAFA;AAOA,MAAA,EAAA,EAAA;AACA,QAAA,MAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA,oBAAA;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,IAAA;AACA;AAJA;AAPA,KAAA,CAAA;AAcA;AA7EA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <van-header\n      title=\"Pulltorefresh 下拉刷新\"\n      left-arrow\n    ></van-header>\n    <div class=\"van-content\">\n      <div\n        id=\"minirefresh\"\n        class=\"minirefresh-wrap\"\n      >\n        <div class=\"minirefresh-scroll\">\n          <div\n            class=\"data-list\"\n            ref=\"listdata\"\n          >\n            <van-cell\n              v-for=\"(item, index) in listdata\"\n              :key=\"index\"\n              :title=\"item.title\"\n              :label=\"`描述信息${index}`\"\n            >{{ item.date }}</van-cell>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport vanHeader from '@components/header';\nimport vanCell from '@components/cell';\nimport 'minirefresh';\nimport 'minirefresh/dist/debug/minirefresh.css';\nimport Util from '@utils';\n\nconst Console = console;\n\nexport default {\n  name: 'Pulltorefresh',\n  components: {\n    vanHeader,\n    vanCell\n  },\n  data() {\n    return {\n      miniRefresh: null,\n      listdata: [],\n      requestDelayTime: 600,\n      pageindex: 0\n    };\n  },\n  methods: {\n    requestAjax(eventType) {\n      if (eventType === 'down') {\n        this.pageindex = 0;\n      }\n\n      Util.ajax({\n        url: 'http://115.29.151.25:8012/request.php?action=testV7List',\n        data: JSON.stringify({\n          token: 'RXBvaW50X1dlYlNlcml2Y2VfKiojIzA2MDE=',\n          params: {\n            pageindex: this.pageindex++,\n            pagesize: 10,\n            keyword: 'type1'\n          }\n        }),\n        success: ({ custom }) => {\n          const infolist = custom.infolist || [];\n          const len = infolist.length;\n          const miniRefresh = this.miniRefresh;\n\n          if (len > 0) {\n            setTimeout(() => {\n              if (eventType === 'down') {\n                this.listdata = infolist;\n                miniRefresh.endDownLoading(true);\n              } else {\n                infolist.forEach(e => {\n                  this.listdata.push(e);\n                });\n                miniRefresh.endUpLoading(false);\n              }\n            }, this.requestDelayTime);\n          } else {\n            if (eventType === 'down') {\n              this.listdata = [];\n              miniRefresh.endDownLoading(true);\n            } else {\n              miniRefresh.endUpLoading(true);\n            }\n          }\n        },\n        error: err => {\n          Console.error(err);\n        }\n      });\n    }\n  },\n  mounted() {\n    this.miniRefresh = new MiniRefresh({\n      container: '#minirefresh',\n      down: {\n        callback: () => {\n          this.requestAjax('down');\n        }\n      },\n      up: {\n        isAuto: true,\n        callback: () => {\n          this.requestAjax('up');\n        }\n      }\n    });\n  }\n};\n</script>\n"],"sourceRoot":"src/showcase"}]}