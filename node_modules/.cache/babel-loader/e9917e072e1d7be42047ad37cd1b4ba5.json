{"remainingRequest":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v3/ejs.h5.js","dependencies":[{"path":"/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v3/ejs.h5.js","mtime":1588230106569},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js","mtime":1585810045725},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1579587173378}],"contextDependencies":[],"result":["import ui from \"./ui\";\nimport storage from \"./storage.js\";\nvar hybrid = ejs;\nvar innerUtil = hybrid.innerUtil;\n\nfunction uiMixin() {\n  hybrid.extendModule('ui', [{\n    namespace: 'toast',\n    os: ['h5'],\n    defaultParams: {\n      message: ''\n    },\n    runCode: function runCode() {\n      for (var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n        rest[_key] = arguments[_key];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'message');\n      var options = args[0];\n      var resolve = args[1];\n      ui.toast(options);\n      options.success && options.success();\n      resolve && resolve();\n    }\n  }, {\n    namespace: 'alert',\n    os: ['h5'],\n    defaultParams: {\n      title: '',\n      message: '',\n      buttonName: '确定'\n    },\n    runCode: function runCode() {\n      for (var _len2 = arguments.length, rest = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        rest[_key2] = arguments[_key2];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'title', 'message', 'buttonName');\n      var options = args[0];\n      var resolve = args[1];\n      ui.alert(options).then(function () {\n        options.success && options.success();\n        resolve && resolve({});\n      });\n    }\n  }, {\n    namespace: 'confirm',\n    os: ['h5'],\n    defaultParams: {\n      title: '',\n      message: '',\n      buttonLabels: ['取消', '确定']\n    },\n    runCode: function runCode() {\n      for (var _len3 = arguments.length, rest = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        rest[_key3] = arguments[_key3];\n      }\n\n      var args = rest;\n      var options = args[0];\n      var resolve = args[1];\n      ui.confirm(options).then(function () {\n        options.success && options.success(1);\n        resolve && resolve(1);\n      }).catch(function () {\n        options.success && options.success(0);\n        resolve && resolve(0);\n      });\n    }\n  }]);\n}\n\nfunction storageMixin() {\n  hybrid.extendModule('storage', [{\n    namespace: 'getItem',\n    os: ['h5'],\n    runCode: function runCode(params, resolve, reject) {\n      var options = params;\n      var success = options.success;\n      var error = options.error;\n\n      if (typeof options.key === 'string') {\n        options.key = [options.key];\n      }\n\n      storage.getItem(options, {\n        success: success,\n        error: error,\n        resolve: resolve,\n        reject: reject\n      });\n    }\n  }, {\n    namespace: 'setItem',\n    os: ['h5'],\n    runCode: function runCode(params, resolve, reject) {\n      var options = params;\n      var success = options.success;\n      var error = options.error;\n      storage.setItem(options, {\n        resolve: resolve,\n        reject: reject,\n        success: success,\n        error: error\n      });\n    }\n  }, {\n    namespace: 'removeItem',\n    os: ['h5'],\n    runCode: function runCode(params, resolve, reject) {\n      var options = params;\n      var success = options.success;\n      var error = options.error;\n\n      if (typeof options.key === 'string') {\n        options.key = [options.key];\n      }\n\n      storage.removeItem(options, {\n        resolve: resolve,\n        reject: reject,\n        success: success,\n        error: error\n      });\n    }\n  }]);\n}\n\nfunction pageMixin() {\n  hybrid.extendModule('page', [{\n    namespace: 'open',\n    os: ['h5'],\n    defaultParams: {\n      pageUrl: '',\n      data: {}\n    },\n    runCode: function runCode() {\n      for (var _len4 = arguments.length, rest = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        rest[_key4] = arguments[_key4];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'pageUrl', 'data');\n      var options = args[0];\n      options.pageUrl = innerUtil.getFullUrlByParams(options.pageUrl, options.data);\n      window.location.href = options.pageUrl;\n    }\n  }, {\n    namespace: 'close',\n    os: ['h5'],\n    runCode: function runCode() {\n      if (window.history.length > 1) {\n        window.history.back();\n      }\n    }\n  }, {\n    namespace: 'reload',\n    os: ['h5'],\n    runCode: function runCode() {\n      window.location.reload();\n    }\n  }]);\n}\n\nfunction deviceMixin() {\n  hybrid.extendModule('device', [{\n    namespace: 'callPhone',\n    os: ['h5'],\n    defaultParams: {\n      phoneNum: ''\n    },\n    runCode: function runCode() {\n      for (var _len5 = arguments.length, rest = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        rest[_key5] = arguments[_key5];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'phoneNum');\n      var phoneNum = args[0].phoneNum;\n      window.location.href = \"tel:\".concat(phoneNum);\n    }\n  }, {\n    namespace: 'sendMsg',\n    os: ['h5'],\n    defaultParams: {\n      phoneNum: '',\n      message: ''\n    },\n    runCode: function runCode() {\n      for (var _len6 = arguments.length, rest = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        rest[_key6] = arguments[_key6];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'phoneNum', 'message');\n      var options = args[0];\n      window.location.href = \"sms:\".concat(options.phoneNum, \"?body=\").concat(options.message);\n    }\n  }, {\n    namespace: 'sendMail',\n    os: ['h5'],\n    defaultParams: {\n      mail: '',\n      subject: '',\n      cc: ''\n    },\n    runCode: function runCode() {\n      for (var _len7 = arguments.length, rest = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        rest[_key7] = arguments[_key7];\n      }\n\n      var args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'mail', 'subject', 'cc');\n      var options = args[0];\n      window.location.href = \"mailto:\".concat(options.mail, \"?subject=\").concat(options.subject, \"&cc=\").concat(options.cc);\n    }\n  }]);\n}\n\nuiMixin();\nstorageMixin();\npageMixin();\ndeviceMixin();",{"version":3,"sources":["/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v3/ejs.h5.js"],"names":["ui","storage","hybrid","ejs","innerUtil","uiMixin","extendModule","namespace","os","defaultParams","message","runCode","rest","args","compatibleStringParamsToObject","call","options","resolve","toast","success","title","buttonName","alert","then","buttonLabels","confirm","catch","storageMixin","params","reject","error","key","getItem","setItem","removeItem","pageMixin","pageUrl","data","getFullUrlByParams","window","location","href","history","length","back","reload","deviceMixin","phoneNum","mail","subject","cc"],"mappings":"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","sourcesContent":["import ui from './ui';\nimport storage from './storage.js';\n\nconst hybrid = ejs;\nconst innerUtil = hybrid.innerUtil;\n\nfunction uiMixin() {\n  hybrid.extendModule('ui', [{\n    namespace: 'toast',\n    os: ['h5'],\n    defaultParams: {\n      message: ''\n    },\n    runCode(...rest) {\n      const args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'message');\n      const options = args[0];\n      const resolve = args[1];\n\n      ui.toast(options);\n      options.success && options.success();\n      resolve && resolve();\n    }\n  }, {\n    namespace: 'alert',\n    os: ['h5'],\n    defaultParams: {\n      title: '',\n      message: '',\n      buttonName: '确定',\n    },\n    runCode(...rest) {\n      const args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'title', 'message', 'buttonName');\n      const options = args[0];\n      const resolve = args[1];\n\n      ui.alert(options).then(() => {\n        options.success && options.success();\n        resolve && resolve({});\n      });\n    }\n  }, {\n    namespace: 'confirm',\n    os: ['h5'],\n    defaultParams: {\n      title: '',\n      message: '',\n      buttonLabels: ['取消', '确定']\n    },\n    runCode(...rest) {\n      const args = rest;\n      const options = args[0];\n      const resolve = args[1];\n\n      ui.confirm(options).then(() => {\n        options.success && options.success(1);\n        resolve && resolve(1);\n      }).catch(() => {\n        options.success && options.success(0);\n        resolve && resolve(0);\n      });\n    }\n  }]);\n}\n\nfunction storageMixin() {\n  hybrid.extendModule('storage', [{\n    namespace: 'getItem',\n    os: ['h5'],\n    runCode(params, resolve, reject) {\n      const options = params;\n      const success = options.success;\n      const error = options.error;\n\n      if (typeof options.key === 'string') {\n        options.key = [options.key];\n      }\n\n      storage.getItem(options, {\n        success,\n        error,\n        resolve,\n        reject\n      });\n    }\n  }, {\n    namespace: 'setItem',\n    os: ['h5'],\n    runCode(params, resolve, reject) {\n      const options = params;\n      const success = options.success;\n      const error = options.error;\n\n      storage.setItem(options, { resolve, reject, success, error });\n    }\n  }, {\n    namespace: 'removeItem',\n    os: ['h5'],\n    runCode(params, resolve, reject) {\n      const options = params;\n      const success = options.success;\n      const error = options.error;\n\n      if (typeof options.key === 'string') {\n        options.key = [options.key];\n      }\n\n      storage.removeItem(options, { resolve, reject, success, error });\n    }\n  }]);\n}\n\nfunction pageMixin() {\n  hybrid.extendModule('page', [{\n    namespace: 'open',\n    os: ['h5'],\n    defaultParams: {\n      pageUrl: '',\n      data: {}\n    },\n    runCode(...rest) {\n      const args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'pageUrl', 'data');\n      const options = args[0];\n\n      options.pageUrl = innerUtil.getFullUrlByParams(options.pageUrl, options.data);\n      window.location.href = options.pageUrl;\n    }\n  }, {\n    namespace: 'close',\n    os: ['h5'],\n    runCode() {\n      if (window.history.length > 1) {\n        window.history.back();\n      }\n    }\n  }, {\n    namespace: 'reload',\n    os: ['h5'],\n    runCode() {\n      window.location.reload();\n    }\n  }]);\n}\n\nfunction deviceMixin() {\n  hybrid.extendModule('device', [{\n    namespace: 'callPhone',\n    os: ['h5'],\n    defaultParams: {\n      phoneNum: ''\n    },\n    runCode(...rest) {\n      const args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'phoneNum');\n      const phoneNum = args[0].phoneNum;\n\n      window.location.href = `tel:${phoneNum}`;\n    }\n  }, {\n    namespace: 'sendMsg',\n    os: ['h5'],\n    defaultParams: {\n      phoneNum: '',\n      message: ''\n    },\n    runCode(...rest) {\n      const args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'phoneNum', 'message');\n      const options = args[0];\n\n      window.location.href = `sms:${options.phoneNum}?body=${options.message}`;\n    }\n  }, {\n    namespace: 'sendMail',\n    os: ['h5'],\n    defaultParams: {\n      mail: '',\n      subject: '',\n      cc: ''\n    },\n    runCode(...rest) {\n      const args = innerUtil.compatibleStringParamsToObject.call(this, rest, 'mail', 'subject', 'cc');\n      const options = args[0];\n\n      window.location.href = `mailto:${options.mail}?subject=${options.subject}&cc=${options.cc}`;\n    }\n  }]);\n}\n\nuiMixin();\nstorageMixin();\npageMixin();\ndeviceMixin();"]}]}