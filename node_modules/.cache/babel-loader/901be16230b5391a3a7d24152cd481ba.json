{"remainingRequest":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gujiahao/Documents/work/github/artweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gujiahao/Documents/work/github/artweb/src/components/picker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gujiahao/Documents/work/github/artweb/src/components/picker.vue","mtime":1588230106529},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js","mtime":1585810045725},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/vue-loader/lib/index.js","mtime":1585810053320}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _defineProperty from \"/Users/gujiahao/Documents/work/github/artweb/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/picker/style\";\nimport _Picker from \"vant/es/picker\";\n\nvar _components;\n\nimport vanPopup from \"./popup\";\nexport default {\n  name: 'Picker',\n  components: (_components = {}, _defineProperty(_components, _Picker.name, _Picker), _defineProperty(_components, \"vanPopup\", vanPopup), _components),\n  model: {\n    prop: 'show',\n    event: 'changeVisible'\n  },\n  props: {\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    overlayClass: String,\n    overlayStyle: Object,\n    transition: String,\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    },\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n    lazyRender: {\n      type: Boolean,\n      default: true\n    },\n    showToolbar: {\n      type: Boolean,\n      default: true\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    valueKey: {\n      type: String,\n      default: 'text'\n    },\n    itemHeight: {\n      type: Number,\n      default: 44\n    },\n    confirmButtonText: {\n      type: String,\n      default: '确认'\n    },\n    cancelButtonText: {\n      type: String,\n      default: '取消'\n    },\n    visibleItemCount: {\n      type: Number,\n      default: 5\n    },\n    show: {\n      type: Boolean,\n      default: false\n    },\n    data: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      showPopup: null,\n      pickerData: []\n    };\n  },\n  watch: {\n    show: function show(value) {\n      this.showPopup = value;\n    },\n    data: function data(value) {\n      this.pickerData = value;\n      this.changeColumnValues();\n    }\n  },\n  methods: {\n    onChangeVisible: function onChangeVisible() {\n      this.$emit('changeVisible', this.showPopup);\n    },\n    onConfirm: function onConfirm(value, index) {\n      if (Array.isArray(value)) {\n        var result = '';\n        value.forEach(function (e) {\n          result += \"\".concat(e.text, \" \");\n        });\n        this.$emit('confirm', result);\n      } else {\n        this.$emit('confirm', value);\n      }\n\n      this.showPopup = false;\n      this.onChangeVisible();\n    },\n    onCancel: function onCancel() {\n      this.showPopup = false;\n      this.onChangeVisible();\n    },\n    onChange: function onChange(picker, values) {\n      var $picker = this.$refs.picker;\n\n      if (Array.isArray(values) && values.length >= 1) {\n        var children = values[0].children;\n        picker.setColumnValues(1, children);\n\n        if (values.length === 3) {\n          var col2Index = $picker.getColumnIndex(1);\n          var col2Values = $picker.getColumnValues(1);\n          picker.setColumnValues(2, col2Values[col2Index].children);\n        }\n      }\n    },\n    changeColumnValues: function changeColumnValues() {\n      var _this = this;\n\n      this.showPopup = this.show;\n      var data = this.data;\n      var columns1Values = [];\n      var columns2Values = [];\n      var columns3Values = [];\n\n      if (Array.isArray(data)) {\n        Array.from(data).forEach(function (e, i) {\n          var children = e.children;\n\n          if (children && children.length >= 1) {\n            columns1Values.push(e);\n\n            if (i === 0) {\n              columns2Values = children;\n              var _children = children[0].children;\n\n              if (Array.isArray(_children)) {\n                columns3Values = _children;\n              }\n            }\n          } else {\n            _this.pickerData.push(e);\n          }\n        }); // 两列\n\n        if (columns3Values.length >= 1) {\n          this.pickerData = [{\n            values: columns1Values,\n            className: 'column1'\n          }, {\n            values: columns2Values,\n            className: 'column2'\n          }, {\n            values: columns3Values,\n            className: 'column3'\n          }];\n        } else if (columns2Values.length >= 1) {\n          this.pickerData = [{\n            values: columns1Values,\n            className: 'column1'\n          }, {\n            values: columns2Values,\n            className: 'column2'\n          }];\n        }\n      }\n    }\n  },\n  created: function created() {\n    this.changeColumnValues();\n  }\n};",{"version":3,"sources":["picker.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <van-popup\n    v-model=\"showPopup\"\n    position=\"bottom\"\n    :overlay=\"overlay\"\n    :overlay-class=\"overlayClass\"\n    :overlay-style=\"overlayStyle\"\n    :transition=\"transition\"\n    :close-on-click-overlay=\"closeOnClickOverlay\"\n    :lock-scroll=\"lockScroll\"\n    :lazy-render=\"lazyRender\"\n    @change=\"onChangeVisible\"\n  >\n    <van-picker\n      :columns=\"pickerData\"\n      :show-toolbar=\"showToolbar\"\n      :title=\"title\"\n      :loading=\"loading\"\n      :value-key=\"valueKey\"\n      :item-height=\"itemHeight\"\n      :confirm-button-text=\"confirmButtonText\"\n      :cancel-button-text=\"cancelButtonText\"\n      :visible-item-count=\"visibleItemCount\"\n      @confirm=\"onConfirm\"\n      @cancel=\"onCancel\"\n      @change=\"onChange\"\n      ref=\"picker\"\n    >\n      <slot\n        name=\"title\"\n        slot=\"title\"\n      ></slot>\n    </van-picker>\n  </van-popup>\n</template>\n\n<script>\nimport { Picker } from 'vant';\nimport vanPopup from './popup';\n\nexport default {\n  name: 'Picker',\n  components: {\n    [Picker.name]: Picker,\n    vanPopup\n  },\n  model: {\n    prop: 'show',\n    event: 'changeVisible'\n  },\n  props: {\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    overlayClass: String,\n    overlayStyle: Object,\n    transition: String,\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    },\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n    lazyRender: {\n      type: Boolean,\n      default: true\n    },\n    showToolbar: {\n      type: Boolean,\n      default: true\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    valueKey: {\n      type: String,\n      default: 'text'\n    },\n    itemHeight: {\n      type: Number,\n      default: 44\n    },\n    confirmButtonText: {\n      type: String,\n      default: '确认'\n    },\n    cancelButtonText: {\n      type: String,\n      default: '取消'\n    },\n    visibleItemCount: {\n      type: Number,\n      default: 5\n    },\n    show: {\n      type: Boolean,\n      default: false\n    },\n    data: {\n      type: Array,\n      default () {\n        return [];\n      }\n    }\n  },\n  data () {\n    return {\n      showPopup: null,\n      pickerData: []\n    };\n  },\n  watch: {\n    show (value) {\n      this.showPopup = value;\n    },\n    data (value) {\n      this.pickerData = value;\n      this.changeColumnValues();\n    }\n  },\n  methods: {\n    onChangeVisible () {\n      this.$emit('changeVisible', this.showPopup);\n    },\n    onConfirm (value, index) {\n      if (Array.isArray(value)) {\n        let result = '';\n\n        value.forEach((e) => {\n          result += `${e.text} `;\n        });\n\n        this.$emit('confirm', result);\n      } else {\n        this.$emit('confirm', value);\n      }\n      this.showPopup = false;\n      this.onChangeVisible();\n    },\n    onCancel () {\n      this.showPopup = false;\n      this.onChangeVisible();\n    },\n    onChange (picker, values) {\n      const $picker = this.$refs.picker;\n\n      if (Array.isArray(values) && values.length >= 1) {\n        const { children } = values[0];\n\n        picker.setColumnValues(1, children);\n        if (values.length === 3) {\n          const col2Index = $picker.getColumnIndex(1);\n          const col2Values = $picker.getColumnValues(1);\n\n          picker.setColumnValues(2, col2Values[col2Index].children);\n        }\n      }\n    },\n    changeColumnValues () {\n      this.showPopup = this.show;\n      const { data } = this;\n      const columns1Values = [];\n      let columns2Values = [];\n      let columns3Values = [];\n\n      if (Array.isArray(data)) {\n        Array.from(data).forEach((e, i) => {\n          const { children } = e;\n\n          if (children && children.length >= 1) {\n            columns1Values.push(e);\n            if (i === 0) {\n              columns2Values = children;\n\n              const _children = children[0].children;\n\n              if (Array.isArray(_children)) {\n                columns3Values = _children;\n              }\n            }\n          } else {\n            this.pickerData.push(e);\n          }\n        });\n\n        // 两列\n        if (columns3Values.length >= 1) {\n          this.pickerData = [{\n            values: columns1Values,\n            className: 'column1'\n          }, {\n            values: columns2Values,\n            className: 'column2'\n          }, {\n            values: columns3Values,\n            className: 'column3'\n          }];\n        } else if (columns2Values.length >= 1) {\n          this.pickerData = [{\n            values: columns1Values,\n            className: 'column1'\n          }, {\n            values: columns2Values,\n            className: 'column2'\n          }];\n        }\n      }\n    }\n  },\n  created () {\n    this.changeColumnValues();\n  }\n};\n</script>\n"],"sourceRoot":"src/components"}]}