{"remainingRequest":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/gujiahao/Documents/work/github/artweb/src/utils/upload.js","dependencies":[{"path":"/Users/gujiahao/Documents/work/github/artweb/src/utils/upload.js","mtime":1588230106657},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js","mtime":1585810045725},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1579587173378}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport { ajax } from \"./request\";\n/**\n * 文件上传\n * @param {Object} options 上传文件配置项\n * @returns {Object} ajax Promise\n */\n\nvar upload = function upload(options) {\n  var files = options.files;\n  var formdata = new FormData();\n  var data = typeof options.data === 'string' ? options.data : JSON.stringify(options.data);\n  formdata.append(data, '');\n\n  if (Array.isArray(files)) {\n    files.forEach(function (e) {\n      formdata.append(e.name, e.file);\n    });\n  }\n\n  options.data = formdata;\n  return ajax(options);\n};\n\nexport default upload;",{"version":3,"sources":["/Users/gujiahao/Documents/work/github/artweb/src/utils/upload.js"],"names":["ajax","upload","options","files","formdata","FormData","data","JSON","stringify","append","Array","isArray","forEach","e","name","file"],"mappings":";;AAAA,SAASA,IAAT;AAEA;;;;;;AAKA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,OAAD,EAAa;AAC1B,MAAMC,KAAK,GAAGD,OAAO,CAACC,KAAtB;AACA,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACA,MAAMC,IAAI,GAAG,OAAOJ,OAAO,CAACI,IAAf,KAAwB,QAAxB,GAAmCJ,OAAO,CAACI,IAA3C,GAAkDC,IAAI,CAACC,SAAL,CAAeN,OAAO,CAACI,IAAvB,CAA/D;AAEAF,EAAAA,QAAQ,CAACK,MAAT,CAAgBH,IAAhB,EAAsB,EAAtB;;AAEA,MAAII,KAAK,CAACC,OAAN,CAAcR,KAAd,CAAJ,EAA0B;AACxBA,IAAAA,KAAK,CAACS,OAAN,CAAc,UAAAC,CAAC,EAAI;AACjBT,MAAAA,QAAQ,CAACK,MAAT,CAAgBI,CAAC,CAACC,IAAlB,EAAwBD,CAAC,CAACE,IAA1B;AACD,KAFD;AAGD;;AAEDb,EAAAA,OAAO,CAACI,IAAR,GAAeF,QAAf;AAEA,SAAOJ,IAAI,CAACE,OAAD,CAAX;AACD,CAhBD;;AAkBA,eAAeD,MAAf","sourcesContent":["import { ajax } from './request';\n\n/**\n * 文件上传\n * @param {Object} options 上传文件配置项\n * @returns {Object} ajax Promise\n */\nconst upload = (options) => {\n  const files = options.files;\n  const formdata = new FormData();\n  const data = typeof options.data === 'string' ? options.data : JSON.stringify(options.data);\n\n  formdata.append(data, '');\n\n  if (Array.isArray(files)) {\n    files.forEach(e => {\n      formdata.append(e.name, e.file);\n    });\n  }\n\n  options.data = formdata;\n\n  return ajax(options);\n};\n\nexport default upload;\n"]}]}