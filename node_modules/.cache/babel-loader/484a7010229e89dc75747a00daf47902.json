{"remainingRequest":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/eslint-loader/index.js??ref--13-0!/Users/gujiahao/Documents/work/github/artweb/src/utils/index.js","dependencies":[{"path":"/Users/gujiahao/Documents/work/github/artweb/src/utils/index.js","mtime":1588230106651},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _typeof from \"/Users/gujiahao/Documents/work/github/artweb/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.match\";\n\n/*\n * @Description: In User Settings Edit\n * @Author: your name\n * @Date: 2019-07-29 11:12:17\n * @LastEditTime: 2019-08-09 14:29:33\n * @LastEditors: Please set LastEditors\n */\nimport { ajax, ajaxAll } from \"./request\";\nimport upload from \"./upload\";\nimport base64 from \"./base64\";\nimport charset from \"./charset\";\nimport date from \"./date\";\nimport imagescale from \"./imagescale\";\nimport math from \"./math\";\nimport sha1 from \"./sha1\";\nimport sha256 from \"./sha256\";\nimport storage from \"./storage\";\nimport string from \"./string\";\nimport Config from '@shared/config';\nvar ejsVer = Config.ejsVer;\n\nvar os = function () {\n  var _window$navigator = window.navigator,\n      userAgent = _window$navigator.userAgent,\n      appVersion = _window$navigator.appVersion;\n  var version = null;\n  var isBadAndroid = false;\n  var ios = false;\n\n  var android = function () {\n    var result = userAgent.match(/(Android);?[\\s/]+([\\d.]+)?/);\n\n    if (result) {\n      version = result[2];\n      isBadAndroid = !/Chrome\\/\\d/.test(appVersion);\n      return true;\n    }\n\n    return false;\n  }();\n\n  var iphone = function () {\n    var result = userAgent.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n\n    if (result) {\n      ios = true;\n      version = result[2].replace(/_/g, '.');\n      return true;\n    }\n\n    return false;\n  }();\n\n  var ipad = function () {\n    var result = userAgent.match(/(iPad).*OS\\s([\\d_]+)/);\n\n    if (result) {\n      ios = true;\n      version = result[2].replace(/_/g, '.');\n      return true;\n    }\n\n    return false;\n  }();\n\n  var ejs = function () {\n    return userAgent.match(/EpointEJS/i) || false;\n  }();\n\n  var dd = function () {\n    return userAgent.match(/DingTalk/i) || false;\n  }();\n\n  var h5 = function () {\n    return !ejs && !dd || false;\n  }();\n\n  return {\n    android: android,\n    version: version,\n    isBadAndroid: isBadAndroid,\n    ios: ios,\n    iphone: iphone,\n    ipad: ipad,\n    ejs: ejs,\n    dd: dd,\n    h5: h5\n  };\n}();\n/**\n * 打开页面\n * @param {String} url 要打开的地址\n */\n\n\nvar openPage = function openPage(url) {\n  var _window = window,\n      location = _window.location;\n  var pathname = location.pathname;\n  var openUrl = null;\n\n  if (typeof pathname === 'string') {\n    if (url.indexOf('http') !== -1) {\n      openUrl = url;\n    } else {\n      var pathArr = pathname.split('/');\n      pathArr.length -= 1;\n      openUrl = \"\".concat(location.protocol, \"//\").concat(location.host).concat(pathArr.join('/'), \"/\").concat(url);\n    }\n  }\n\n  if (os.ejs) {\n    ejsVer === 3 ? ejs.page.open(openUrl) : ejs.page.openPage(openUrl);\n  } else {\n    location.href = openUrl;\n  }\n};\n/**\n * 插入 Library 库\n * @param {Array} gather 集合\n * inject 插入位置\n * src 路径\n * type 类型\n * @return {Promise} Promise event\n */\n\n\nvar loaderLibrary = function loaderLibrary() {\n  var promiseAssembly = [];\n\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  args.forEach(function (e) {\n    var inject = e.inject;\n    var src = e.src;\n    var type = e.type;\n    var el = null;\n    var promise = new Promise(function (resolve) {\n      if (type === 'css') {\n        el = document.createElement('link');\n        el.link = src;\n        el.ref = 'stylesheet';\n      } else {\n        el = document.createElement('script');\n        el.src = src;\n      }\n\n      if (inject === 'head') {\n        document.head.appendChild(el);\n      } else {\n        document.body.appendChild(el);\n      }\n\n      el.onload = function () {\n        resolve();\n      };\n    });\n    promiseAssembly.push(promise);\n  });\n  return Promise.all(promiseAssembly);\n};\n\nvar extend = function extend() {\n  return Object.assign.apply(Object, arguments);\n};\n\nvar uuid = function uuid(options) {\n  options = options || {};\n  var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\n  var uuid = [];\n  var i;\n  var radix = options.radix || chars.length;\n  var len = options.len || 32;\n  var type = options.type || 'default';\n  len = Math.min(len, 36);\n  len = Math.max(len, 4);\n  radix = Math.min(radix, 62);\n  radix = Math.max(radix, 2);\n\n  if (len) {\n    for (i = 0; i < len; i++) {\n      uuid[i] = chars[0 | Math.random() * radix];\n    }\n\n    if (type === 'default') {\n      len > 23 && (uuid[23] = '-');\n      len > 18 && (uuid[18] = '-');\n      len > 13 && (uuid[13] = '-');\n      len > 8 && (uuid[8] = '-');\n    }\n  }\n\n  return uuid.join('');\n};\n/**\n * 从 URL 截取参数\n * @param {String} key 关键字\n * @returns {String} 返回参数\n */\n\n\nvar getExtraDataByKey = function getExtraDataByKey(key) {\n  var uri = decodeURIComponent(window.location.href);\n  var regExp = new RegExp(\"\\\\??\".concat(key, \"=([^&]*)\"));\n  var result = uri.match(regExp);\n  return Array.isArray(result) && result[1] || '';\n};\n/**\n * 数据处理\n * @param {Object} response 处理数据\n * @param {Object} options 配置项\n * @returns {Boolean} data or true\n */\n\n\nvar dataProcess = function dataProcess(response, options) {\n  if (_typeof(response) !== 'object') {\n    console.error(\"response\\u7684\\u7C7B\\u578B\\u4E3A \".concat(_typeof(response)));\n    return false;\n  }\n\n  var dataPath = options.dataPath;\n  var data = null;\n\n  var handler = function handler(pathAssembly) {\n    var result = null;\n    pathAssembly.forEach(function (path, index) {\n      var resolvePathData = result ? result[path] : response[path];\n\n      if (resolvePathData) {\n        result = resolvePathData;\n      } else if (index === pathAssembly.length - 1) {\n        result = undefined;\n      }\n    });\n    return result;\n  };\n\n  if (dataPath) {\n    if (Array.isArray(dataPath)) {\n      dataPath.forEach(function (e) {\n        data = handler(e.split('.'));\n      });\n      return data;\n    } else {\n      return handler(dataPath.split('.'));\n    }\n  }\n\n  return undefined;\n};\n/**\n * 判断值是否为空\n * @param {String} value 值\n * @returns {Boolean} 验证结果\n */\n\n\nvar isNull = function isNull(value) {\n  return value === null || value === undefined;\n};\n/**\n * 遍历对象或数组\n * @param {Object} arr 对象和数组\n * @param {Function} callback 回调函数\n */\n\n\nvar each = function each(arr, callback) {\n  callback = typeof callback === 'function' ? callback : function () {};\n\n  if (_typeof(arr) === 'object') {\n    for (var i = 0, len = arr.length; i < len; i++) {\n      var item = arr[i];\n      callback(i, item);\n    }\n  }\n};\n\nexport default {\n  openPage: openPage,\n  ajax: ajax,\n  ajaxAll: ajaxAll,\n  extend: extend,\n  uuid: uuid,\n  getExtraDataByKey: getExtraDataByKey,\n  os: os,\n  dataProcess: dataProcess,\n  loaderLibrary: loaderLibrary,\n  isNull: isNull,\n  base64: base64,\n  charset: charset,\n  date: date,\n  imagescale: imagescale,\n  math: math,\n  sha1: sha1,\n  sha256: sha256,\n  storage: storage,\n  string: string,\n  each: each,\n  upload: upload\n};",{"version":3,"sources":["/Users/gujiahao/Documents/work/github/artweb/src/utils/index.js"],"names":["ajax","ajaxAll","upload","base64","charset","date","imagescale","math","sha1","sha256","storage","string","Config","ejsVer","os","window","navigator","userAgent","appVersion","version","isBadAndroid","ios","android","result","match","test","iphone","replace","ipad","ejs","dd","h5","openPage","url","location","pathname","openUrl","indexOf","pathArr","split","length","protocol","host","join","page","open","href","loaderLibrary","promiseAssembly","args","forEach","e","inject","src","type","el","promise","Promise","resolve","document","createElement","link","ref","head","appendChild","body","onload","push","all","extend","Object","assign","uuid","options","chars","i","radix","len","Math","min","max","random","getExtraDataByKey","key","uri","decodeURIComponent","regExp","RegExp","Array","isArray","dataProcess","response","console","error","dataPath","data","handler","pathAssembly","path","index","resolvePathData","undefined","isNull","value","each","arr","callback","item"],"mappings":"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","sourcesContent":["/*\n * @Description: In User Settings Edit\n * @Author: your name\n * @Date: 2019-07-29 11:12:17\n * @LastEditTime: 2019-08-09 14:29:33\n * @LastEditors: Please set LastEditors\n */\nimport {\n  ajax,\n  ajaxAll\n} from './request';\nimport upload from './upload';\nimport base64 from './base64';\nimport charset from './charset';\nimport date from './date';\nimport imagescale from './imagescale';\nimport math from './math';\nimport sha1 from './sha1';\nimport sha256 from './sha256';\nimport storage from './storage';\nimport string from './string';\nimport Config from '@shared/config';\n\nconst ejsVer = Config.ejsVer;\n\nconst os = (() => {\n  const {\n    userAgent,\n    appVersion\n  } = window.navigator;\n\n  let version = null;\n  let isBadAndroid = false;\n  let ios = false;\n\n  let android = (() => {\n    const result = userAgent.match(/(Android);?[\\s/]+([\\d.]+)?/);\n\n    if (result) {\n      version = result[2];\n      isBadAndroid = !/Chrome\\/\\d/.test(appVersion);\n\n      return true;\n    }\n\n    return false;\n  })();\n\n  let iphone = (() => {\n    const result = userAgent.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n\n    if (result) {\n      ios = true;\n      version = result[2].replace(/_/g, '.');\n\n      return true;\n    }\n\n    return false;\n  })();\n\n  let ipad = (() => {\n    const result = userAgent.match(/(iPad).*OS\\s([\\d_]+)/);\n\n    if (result) {\n      ios = true;\n      version = result[2].replace(/_/g, '.');\n\n      return true;\n    }\n\n    return false;\n  })();\n\n  let ejs = (() => {\n    return userAgent.match(/EpointEJS/i) || false;\n  })();\n\n  let dd = (() => {\n    return userAgent.match(/DingTalk/i) || false;\n  })();\n\n  let h5 = (() => {\n    return (!ejs && !dd) || false;\n  })();\n\n  return {\n    android,\n    version,\n    isBadAndroid,\n    ios,\n    iphone,\n    ipad,\n    ejs,\n    dd,\n    h5\n  };\n})();\n\n/**\n * 打开页面\n * @param {String} url 要打开的地址\n */\nconst openPage = (url) => {\n  const {\n    location\n  } = window;\n  const {\n    pathname\n  } = location;\n  \n  let openUrl = null;\n\n  if (typeof pathname === 'string') {\n    if (url.indexOf('http') !== -1) {\n      openUrl = url;\n    } else {\n      const pathArr = pathname.split('/');\n\n      pathArr.length -= 1;\n      openUrl = `${location.protocol}//${location.host}${pathArr.join('/')}/${url}`;\n    }\n  }\n\n  if (os.ejs) {\n    ejsVer === 3 ? ejs.page.open(openUrl) : ejs.page.openPage(openUrl);\n  } else {\n    location.href = openUrl;\n  }\n};\n\n/**\n * 插入 Library 库\n * @param {Array} gather 集合\n * inject 插入位置\n * src 路径\n * type 类型\n * @return {Promise} Promise event\n */\nconst loaderLibrary = (...args) => {\n  const promiseAssembly = [];\n\n  args.forEach((e) => {\n    const inject = e.inject;\n    const src = e.src;\n    const type = e.type;\n    let el = null;\n    let promise = new Promise((resolve) => {\n      if (type === 'css') {\n        el = document.createElement('link');\n        el.link = src;\n        el.ref = 'stylesheet';\n      } else {\n        el = document.createElement('script');\n        el.src = src;\n      }\n\n      if (inject === 'head') {\n        document.head.appendChild(el);\n      } else {\n        document.body.appendChild(el);\n      }\n\n      el.onload = function () {\n        resolve();\n      };\n    });\n\n    promiseAssembly.push(promise);\n  });\n\n  return Promise.all(promiseAssembly);\n};\n\nconst extend = (...args) => Object.assign(...args);\n\nconst uuid = (options) => {\n  options = options || {};\n\n  const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\n  const uuid = [];\n  let i;\n  let radix = options.radix || chars.length;\n  let len = options.len || 32;\n  const type = options.type || 'default';\n\n  len = Math.min(len, 36);\n  len = Math.max(len, 4);\n  radix = Math.min(radix, 62);\n  radix = Math.max(radix, 2);\n\n  if (len) {\n    for (i = 0; i < len; i++) {\n      uuid[i] = chars[0 | Math.random() * radix];\n    }\n\n    if (type === 'default') {\n      len > 23 && (uuid[23] = '-');\n      len > 18 && (uuid[18] = '-');\n      len > 13 && (uuid[13] = '-');\n      len > 8 && (uuid[8] = '-');\n    }\n  }\n\n  return uuid.join('');\n};\n\n/**\n * 从 URL 截取参数\n * @param {String} key 关键字\n * @returns {String} 返回参数\n */\nconst getExtraDataByKey = (key) => {\n  let uri = decodeURIComponent(window.location.href);\n  let regExp = new RegExp(`\\\\??${key}=([^&]*)`);\n  let result = uri.match(regExp);\n\n  return (Array.isArray(result) && result[1]) || '';\n};\n\n/**\n * 数据处理\n * @param {Object} response 处理数据\n * @param {Object} options 配置项\n * @returns {Boolean} data or true\n */\nconst dataProcess = (response, options) => {\n  if (typeof response !== 'object') {\n    console.error(`response的类型为 ${typeof response}`);\n\n    return false;\n  }\n\n  let dataPath = options.dataPath;\n  let data = null;\n\n  const handler = (pathAssembly) => {\n    let result = null;\n\n    pathAssembly.forEach((path, index) => {\n      let resolvePathData = result ? result[path] : response[path];\n\n      if (resolvePathData) {\n        result = resolvePathData;\n      } else if (index === (pathAssembly.length - 1)) {\n        result = undefined;\n      }\n    });\n\n    return result;\n  };\n\n  if (dataPath) {\n    if (Array.isArray(dataPath)) {\n      dataPath.forEach((e) => {\n        data = handler(e.split('.'));\n      });\n\n      return data;\n    } else {\n      return handler(dataPath.split('.'));\n    }\n  }\n\n  return undefined;\n};\n\n/**\n * 判断值是否为空\n * @param {String} value 值\n * @returns {Boolean} 验证结果\n */\nconst isNull = (value) => {\n  return value === null || value === undefined;\n};\n\n/**\n * 遍历对象或数组\n * @param {Object} arr 对象和数组\n * @param {Function} callback 回调函数\n */\nconst each = (arr, callback) => {\n  callback = typeof callback === 'function' ? callback : function () {};\n\n  if (typeof arr === 'object') {\n    for (let i = 0, len = arr.length; i < len; i++) {\n      const item = arr[i];\n\n      callback(i, item);\n    }\n  }\n};\n\nexport default {\n  openPage,\n  ajax,\n  ajaxAll,\n  extend,\n  uuid,\n  getExtraDataByKey,\n  os,\n  dataProcess,\n  loaderLibrary,\n  isNull,\n  base64,\n  charset,\n  date,\n  imagescale,\n  math,\n  sha1,\n  sha256,\n  storage,\n  string,\n  each,\n  upload\n};\n"]}]}