{"remainingRequest":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gujiahao/Documents/work/github/artweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gujiahao/Documents/work/github/artweb/src/components/easycalendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gujiahao/Documents/work/github/artweb/src/components/easycalendar.vue","mtime":1588230106484},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js","mtime":1585810045725},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/vue-loader/lib/index.js","mtime":1585810053320}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Easycalendar',\n  model: {\n    prop: 'isShow',\n    event: 'changeVisible'\n  },\n  props: {\n    isShow: {\n      type: Boolean,\n      default: true\n    },\n    cls: {\n      type: String,\n      default: 'cur'\n    }\n  },\n  data: function data() {\n    return {\n      year: null,\n      month: null,\n      day: null,\n      show: this.isShow,\n      result: {}\n    };\n  },\n  watch: {\n    isShow: function isShow(value) {\n      this.show = value;\n    }\n  },\n  methods: {\n    /**\n     * 创建日期插件\n     * @param {Number} year 年\n     * @param {Number} month 月\n     * @param {Number} day 日\n     */\n    createCalendar: function createCalendar(year, month, day) {\n      var today = this._getNowDay();\n\n      if (!year) {\n        year = today.getFullYear();\n      }\n\n      if (!day) {\n        day = today.getDate();\n      }\n\n      if (month === undefined) {\n        month = today.getMonth();\n      } else {\n        month -= 1;\n\n        if (month < 0) {\n          month = 11;\n        } else if (month > 11) {\n          month = 0;\n        }\n      }\n\n      var todayDate = new Date(year, month, 1);\n      var todayYear = todayDate.getFullYear();\n      var todayMonth = todayDate.getMonth() + 1;\n      var todayDateOfWeek = todayDate.getDay();\n      var preDate = new Date(year, month, 0);\n      var preYear = preDate.getFullYear();\n      var preMonth = preDate.getMonth() + 1;\n      var preDateOfMonth = preDate.getDate();\n      var lastDate = new Date(year, month + 1, 0);\n      var lastDateOfMonth = lastDate.getDate();\n      var nextDate = new Date(year, month + 1, 1);\n      var nextYear = nextDate.getFullYear();\n      var nextMonth = nextDate.getMonth() + 1;\n\n      if (day > lastDateOfMonth) {\n        throw new Error(\"\\u5F53\\u524D\\u4F20\\u5165\\u5929\\u6570\\uFF0C\\u8D85\\u51FA\\u672C\\u6708\\u5E94\\u6709\\u5929\\u6570\\uFF0C\\u672C\\u6708\\u53EA\\u6709\\uFF1A\".concat(lastDateOfMonth, \"\\u5929\"));\n      } // 0 - 6 0代表星期天，修改一下\n\n\n      if (todayDateOfWeek === 0) {\n        todayDateOfWeek = 7;\n      }\n\n      var preDayOfCount = todayDateOfWeek - 1;\n      var result = [];\n      var _year = 0;\n      var _month = 0;\n      var _day = 0;\n      var cls = '';\n      var dayCls = '';\n      var index = 0;\n\n      for (var i = 0, len = 42; i < len; i++) {\n        index = i - preDayOfCount;\n\n        if (index < 0) {\n          _year = preYear;\n          _month = preMonth;\n          _day = preDateOfMonth + index + 1;\n          cls = 'exceed';\n        }\n\n        if (index >= 0 && index < lastDateOfMonth) {\n          _year = todayYear;\n          _month = todayMonth;\n          _day = index + 1;\n          cls = '';\n        }\n\n        if (index >= lastDateOfMonth) {\n          _year = nextYear;\n          _month = nextMonth;\n          _day = index - lastDateOfMonth + 1;\n          cls = 'exceed';\n        }\n\n        if (_month === todayMonth && _year === todayYear && _day === day) {\n          dayCls = this.cls;\n        } else {\n          dayCls = '';\n        }\n\n        result.push({\n          year: _year,\n          month: _month,\n          day: _day,\n          cls: cls,\n          dayCls: dayCls\n        });\n      }\n\n      this.$refs.date.innerHTML = \"\".concat(todayYear, \"-\").concat(this.appendZero(todayMonth));\n      this.year = todayYear;\n      this.month = todayMonth;\n      this.day = day;\n      this.result = {\n        year: todayYear.toString(),\n        month: todayMonth.toString(),\n        day: day.toString()\n      };\n      this.$emit('change', this.result);\n\n      this._renderCalendar(result);\n    },\n\n    /**\n     * 渲染日期\n     * @param {String} dateCollection 日期集合\n     */\n    _renderCalendar: function _renderCalendar(dateCollection) {\n      var result = '';\n\n      for (var i = 1, len = dateCollection.length; i <= len; i++) {\n        var item = dateCollection[i - 1];\n\n        if (i === 1) {\n          result += \"<tr><td class=\\\"\".concat(item.cls, \" \").concat(item.dayCls, \"\\\" data-year=\\\"\").concat(item.year, \"\\\" data-month=\\\"\").concat(item.month, \"\\\">\").concat(item.day, \"</td>\");\n        } else if (i % 7 === 0) {\n          result += \"<td class=\\\"\".concat(item.cls, \" \").concat(item.dayCls, \"\\\" data-year=\\\"\").concat(item.year, \"\\\" data-month=\\\"\").concat(item.month, \"\\\">\").concat(item.day, \"</td></tr><tr>\");\n        } else {\n          result += \"<td class=\\\"\".concat(item.cls, \" \").concat(item.dayCls, \"\\\" data-year=\\\"\").concat(item.year, \"\\\" data-month=\\\"\").concat(item.month, \"\\\">\").concat(item.day, \"</td>\");\n        }\n      }\n\n      this.$refs.body.innerHTML = result;\n    },\n\n    /**\n     * 获取当前元素的兄弟元素并且除去样式\n     * @param {HTMLElement} el 当前元素\n     * @param {String} cls 高亮样式\n     */\n    removeSiblingsCls: function removeSiblingsCls(el, cls) {\n      var siblings = [].slice.call(this.$refs.body.querySelectorAll('td'));\n      siblings.forEach(function (e, i) {\n        if (e !== el) {\n          e.classList.remove(cls);\n        }\n      });\n    },\n\n    /**\n     * 获取当前日期\n     * @return {Date} 日期\n     * @private\n     */\n    _getNowDay: function _getNowDay() {\n      return new Date();\n    },\n\n    /**\n     * 个位数不足补0\n     * @param {Number} num 数字\n     * @returns {String} 补0过后的数字\n     */\n    appendZero: function appendZero(num) {\n      if (num < 10) {\n        return \"0\".concat(num);\n      }\n\n      return num;\n    },\n\n    /**\n     * 处理监听日期\n     * @param {HTMLElement} el 元素\n     * @param {String} operator 运算符\n     */\n    _handleTriggerDate: function _handleTriggerDate(el, operator) {\n      var month = this.month;\n      var year = this.year;\n      var style = el.style; // 弹起样式\n\n      style.paddingTop = '1px';\n      setTimeout(function () {\n        style.paddingTop = 0;\n      }, 100);\n\n      if (operator === '+') {\n        month++;\n      } else if (operator === '-') {\n        month--;\n      }\n\n      if (month <= 0) {\n        year--;\n      } else if (month > 12) {\n        year++;\n      }\n\n      this.createCalendar(year, month);\n    },\n    onClickLeftBtn: function onClickLeftBtn(e) {\n      this._handleTriggerDate(e.target, '-');\n    },\n    onClickRightBtn: function onClickRightBtn(e) {\n      this._handleTriggerDate(e.target, '+');\n    },\n    onClickBody: function onClickBody(e) {\n      var target = e.target;\n      var cls = this.cls;\n      var year = target.dataset.year;\n      var month = target.dataset.month;\n      var day = target.innerHTML;\n      target.classList.add(cls);\n      this.removeSiblingsCls(target, cls);\n\n      if (month > this.month || month < this.month) {\n        this.createCalendar(year, month, parseInt(day, 10));\n      } else {\n        this.result = {\n          year: year.toString(),\n          month: month.toString(),\n          day: day.toString()\n        };\n        this.$emit('change', this.result);\n      }\n    },\n    getCalendarData: function getCalendarData() {\n      return this.result;\n    }\n  },\n  mounted: function mounted() {\n    this.createCalendar();\n  }\n};",{"version":3,"sources":["easycalendar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"ui-datapicker-wrapper\" v-show=\"show\">\n    <div class=\"ui-datepicker-header\">\n      <a href=\"javascript:void(0);\" class=\"ui-datepicker-btn ui-datepicker-prev-btn\" @click=\"onClickLeftBtn($event)\">&lt;</a>\n      <a href=\"javascript:void(0);\" class=\"ui-datepicker-btn ui-datepicker-next-btn\" @click=\"onClickRightBtn($event)\">&gt;</a>\n      <span class=\"ui-datepicker-curr-month\" ref=\"date\"></span>\n    </div>\n    <div class=\"ui-datepicker-body\">\n      <table>\n        <thead>\n        <tr>\n          <th>一</th>\n          <th>二</th>\n          <th>三</th>\n          <th>四</th>\n          <th>五</th>\n          <th>六</th>\n          <th>日</th>\n        </tr>\n        </thead>\n        <tbody ref=\"body\" @click=\"onClickBody($event)\"></tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Easycalendar',\n  model: {\n    prop: 'isShow',\n    event: 'changeVisible'\n  },\n  props: {\n    isShow: {\n      type: Boolean,\n      default: true\n    },\n    cls: {\n      type: String,\n      default: 'cur'\n    }\n  },\n  data () {\n    return {\n      year: null,\n      month: null,\n      day: null,\n      show: this.isShow,\n      result: {}\n    };\n  },\n  watch: {\n    isShow (value) {\n      this.show = value;\n    }\n  },\n  methods: {\n    /**\n     * 创建日期插件\n     * @param {Number} year 年\n     * @param {Number} month 月\n     * @param {Number} day 日\n     */\n    createCalendar (year, month, day) {\n      const today = this._getNowDay();\n\n      if (!year) {\n        year = today.getFullYear();\n      }\n\n      if (!day) {\n        day = today.getDate();\n      }\n\n      if (month === undefined) {\n        month = today.getMonth();\n      } else {\n        month -= 1;\n\n        if (month < 0) {\n          month = 11;\n        } else if (month > 11) {\n          month = 0;\n        }\n      }\n\n      const todayDate = new Date(year, month, 1);\n      const todayYear = todayDate.getFullYear();\n      const todayMonth = todayDate.getMonth() + 1;\n      let todayDateOfWeek = todayDate.getDay();\n\n      const preDate = new Date(year, month, 0);\n      const preYear = preDate.getFullYear();\n      const preMonth = preDate.getMonth() + 1;\n      const preDateOfMonth = preDate.getDate();\n\n      const lastDate = new Date(year, month + 1, 0);\n      const lastDateOfMonth = lastDate.getDate();\n\n      const nextDate = new Date(year, month + 1, 1);\n      const nextYear = nextDate.getFullYear();\n      const nextMonth = nextDate.getMonth() + 1;\n\n      if (day > lastDateOfMonth) {\n        throw new Error(`当前传入天数，超出本月应有天数，本月只有：${lastDateOfMonth}天`);\n      }\n\n      // 0 - 6 0代表星期天，修改一下\n      if (todayDateOfWeek === 0) {\n        todayDateOfWeek = 7;\n      }\n\n      const preDayOfCount = todayDateOfWeek - 1;\n      const result = [];\n      let _year = 0;\n      let _month = 0;\n      let _day = 0;\n      let cls = '';\n      let dayCls = '';\n      let index = 0;\n\n      for (let i = 0, len = 42; i < len; i++) {\n        index = i - preDayOfCount;\n\n        if (index < 0) {\n          _year = preYear;\n          _month = preMonth;\n          _day = preDateOfMonth + index + 1;\n          cls = 'exceed';\n        }\n\n        if (index >= 0 && index < lastDateOfMonth) {\n          _year = todayYear;\n          _month = todayMonth;\n          _day = index + 1;\n          cls = '';\n        }\n\n        if (index >= lastDateOfMonth) {\n          _year = nextYear;\n          _month = nextMonth;\n          _day = index - lastDateOfMonth + 1;\n          cls = 'exceed';\n        }\n\n        if (_month === todayMonth && _year === todayYear && _day === day) {\n          dayCls = this.cls;\n        } else {\n          dayCls = '';\n        }\n\n        result.push({\n          year: _year,\n          month: _month,\n          day: _day,\n          cls,\n          dayCls\n        });\n      }\n\n      this.$refs.date.innerHTML = `${todayYear}-${this.appendZero(todayMonth)}`;\n      this.year = todayYear;\n      this.month = todayMonth;\n      this.day = day;\n      this.result = {\n        year: todayYear.toString(),\n        month: todayMonth.toString(),\n        day: day.toString()\n      };\n      this.$emit('change', this.result);\n      this._renderCalendar(result);\n    },\n\n    /**\n     * 渲染日期\n     * @param {String} dateCollection 日期集合\n     */\n    _renderCalendar (dateCollection) {\n      let result = '';\n\n      for (let i = 1, len = dateCollection.length; i <= len; i++) {\n        const item = dateCollection[i - 1];\n\n        if (i === 1) {\n          result += `<tr><td class=\"${item.cls} ${item.dayCls}\" data-year=\"${item.year}\" data-month=\"${item.month}\">${item.day}</td>`;\n        } else if (i % 7 === 0) {\n          result += `<td class=\"${item.cls} ${item.dayCls}\" data-year=\"${item.year}\" data-month=\"${item.month}\">${item.day}</td></tr><tr>`;\n        } else {\n          result += `<td class=\"${item.cls} ${item.dayCls}\" data-year=\"${item.year}\" data-month=\"${item.month}\">${item.day}</td>`;\n        }\n      }\n\n      this.$refs.body.innerHTML = result;\n    },\n\n    /**\n     * 获取当前元素的兄弟元素并且除去样式\n     * @param {HTMLElement} el 当前元素\n     * @param {String} cls 高亮样式\n     */\n    removeSiblingsCls (el, cls) {\n      const siblings = [].slice.call(this.$refs.body.querySelectorAll('td'));\n\n      siblings.forEach((e, i) => {\n        if (e !== el) {\n          e.classList.remove(cls);\n        }\n      });\n    },\n\n    /**\n     * 获取当前日期\n     * @return {Date} 日期\n     * @private\n     */\n    _getNowDay () {\n      return new Date();\n    },\n\n    /**\n     * 个位数不足补0\n     * @param {Number} num 数字\n     * @returns {String} 补0过后的数字\n     */\n    appendZero (num) {\n      if (num < 10) {\n        return `0${num}`;\n      }\n\n      return num;\n    },\n\n    /**\n     * 处理监听日期\n     * @param {HTMLElement} el 元素\n     * @param {String} operator 运算符\n     */\n    _handleTriggerDate (el, operator) {\n      let { month } = this;\n      let { year } = this;\n      const { style } = el;\n\n      // 弹起样式\n      style.paddingTop = '1px';\n\n      setTimeout(() => {\n        style.paddingTop = 0;\n      }, 100);\n\n      if (operator === '+') {\n        month++;\n      } else if (operator === '-') {\n        month--;\n      }\n\n      if (month <= 0) {\n        year--;\n      } else if (month > 12) {\n        year++;\n      }\n\n      this.createCalendar(year, month);\n    },\n\n    onClickLeftBtn (e) {\n      this._handleTriggerDate(e.target, '-');\n    },\n\n    onClickRightBtn (e) {\n      this._handleTriggerDate(e.target, '+');\n    },\n\n    onClickBody (e) {\n      const { target } = e;\n      const { cls } = this;\n      const { year } = target.dataset;\n      const { month } = target.dataset;\n      const day = target.innerHTML;\n\n      target.classList.add(cls);\n      this.removeSiblingsCls(target, cls);\n\n      if (month > this.month || month < this.month) {\n        this.createCalendar(year, month, parseInt(day, 10));\n      } else {\n        this.result = {\n          year: year.toString(),\n          month: month.toString(),\n          day: day.toString()\n        };\n        this.$emit('change', this.result);\n      }\n    },\n\n    getCalendarData () {\n      return this.result;\n    }\n  },\n  mounted () {\n    this.createCalendar();\n  }\n};\n</script>\n\n<style scoped>\n  .ui-datapicker-wrapper {\n    display: block;\n    font-size: 16px;\n    color: #666;\n    box-shadow: 2px 2px 8px 2px rgba(128, 128, 128, .3);\n  }\n\n  .ui-datapicker-wrapper .ui-datepicker-header {\n    height: 50px;\n    line-height: 50px;\n    padding: 0 20px;\n    text-align: center;\n    background-color: #f0f0f0;\n    border-bottom: 1px solid #ccc;\n    font-weight: bold;\n  }\n\n  .ui-datapicker-wrapper .ui-datepicker-btn {\n    font-family: serif;\n    font-size: 20px;\n    width: 20px;\n    height: 50px;\n    line-height: 50px;\n    color: #1abc9c;\n    text-align: center;\n    cursor: pointer;\n    text-decoration: none;\n  }\n\n  .ui-datapicker-wrapper .ui-datepicker-prev-btn {\n    float: left;\n  }\n\n  .ui-datapicker-wrapper .ui-datepicker-next-btn {\n    float: right;\n  }\n\n  /* body */\n\n  .ui-datapicker-wrapper .ui-datepicker-body table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n\n  .ui-datapicker-wrapper .ui-datepicker-body th,\n  .ui-datapicker-wrapper .ui-datepicker-body /deep/ td {\n    height: 30px;\n    text-align: center;\n  }\n\n  .ui-datapicker-wrapper .ui-datepicker-body th {\n    font-size: 12px;\n    height: 40px;\n    line-height: 40px;\n  }\n\n  .ui-datapicker-wrapper .ui-datepicker-body /deep/ td {\n    border: 1px solid #f0f0f0;\n    vertical-align: middle;\n    font-size: 14px;\n    cursor: pointer;\n  }\n\n  .ui-datapicker-wrapper .ui-datepicker-body /deep/ td:last-child {\n    border-right: none;\n  }\n\n  .ui-datepicker-body /deep/ tr td.exceed {\n    color: #999;\n  }\n\n  .ui-datepicker-body /deep/ tr td.cur {\n    background-color: #00968830;\n    color: #f00;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}