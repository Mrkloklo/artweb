{"remainingRequest":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v3/storage.js","dependencies":[{"path":"/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v3/storage.js","mtime":1588230106570},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js","mtime":1585810045725},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1579587173378}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nvar localStorage = window.localStorage;\nexport default {\n  getItem: function getItem(options, _ref) {\n    var success = _ref.success,\n        error = _ref.error,\n        reject = _ref.reject,\n        resolve = _ref.resolve;\n    var keys = options.key;\n    var values = {};\n\n    try {\n      for (var i = 0, len = keys.length; i < len; i++) {\n        values[keys[i]] = localStorage.getItem(keys[i]);\n      }\n    } catch (msg) {\n      var err = {\n        code: 0,\n        msg: \"localStorage\\u503C\\u83B7\\u53D6\\u51FA\\u9519\".concat(JSON.stringify(keys)),\n        result: msg\n      };\n      error && error(err);\n      reject && reject(err);\n      return;\n    }\n\n    success && success(values);\n    resolve && resolve(values);\n  },\n  setItem: function setItem(options, _ref2) {\n    var success = _ref2.success,\n        error = _ref2.error,\n        reject = _ref2.reject,\n        resolve = _ref2.resolve;\n    var keys = Object.keys(options);\n\n    try {\n      for (var i = 0, len = keys.length; i < len; i++) {\n        var key = keys[i];\n\n        if (key !== 'success' && key !== 'error') {\n          localStorage.setItem(key, options[key]);\n        }\n      }\n    } catch (msg) {\n      var errorMsg = '';\n\n      if (msg.name === 'QuotaExceededError') {\n        errorMsg = '超出本地存储限额，建议先清除一些无用空间!';\n      } else {\n        errorMsg = 'localStorage存储值出错';\n      }\n\n      error && error(errorMsg);\n      reject && reject(errorMsg);\n      return;\n    }\n\n    success && success({});\n    resolve && resolve({});\n  },\n  removeItem: function removeItem(options, _ref3) {\n    var success = _ref3.success,\n        error = _ref3.error,\n        resolve = _ref3.resolve,\n        reject = _ref3.reject;\n    var keys = options.key;\n\n    try {\n      for (var i = 0, len = keys.length; i < len; i++) {\n        var key = keys[i];\n        localStorage.removeItem(key);\n      }\n    } catch (msg) {\n      var err = {\n        code: 0,\n        msg: \"localStorage\\u503C\\u5220\\u9664\\u51FA\\u9519\".concat(keys),\n        result: msg\n      };\n      error && error(err);\n      reject && reject(err);\n    }\n\n    success && success({});\n    resolve && resolve({});\n  }\n};",{"version":3,"sources":["/Users/gujiahao/Documents/work/github/artweb/src/shared/ejs/v3/storage.js"],"names":["localStorage","window","getItem","options","success","error","reject","resolve","keys","key","values","i","len","length","msg","err","code","JSON","stringify","result","setItem","Object","errorMsg","name","removeItem"],"mappings":";;;AAAA,IAAMA,YAAY,GAAGC,MAAM,CAACD,YAA5B;AAEA,eAAe;AACbE,EAAAA,OADa,mBACJC,OADI,QAC0C;AAAA,QAAnCC,OAAmC,QAAnCA,OAAmC;AAAA,QAA1BC,KAA0B,QAA1BA,KAA0B;AAAA,QAAnBC,MAAmB,QAAnBA,MAAmB;AAAA,QAAXC,OAAW,QAAXA,OAAW;AACrD,QAAMC,IAAI,GAAGL,OAAO,CAACM,GAArB;AACA,QAAMC,MAAM,GAAG,EAAf;;AAEA,QAAI;AACF,WAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGJ,IAAI,CAACK,MAA3B,EAAmCF,CAAC,GAAGC,GAAvC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/CD,QAAAA,MAAM,CAACF,IAAI,CAACG,CAAD,CAAL,CAAN,GAAkBX,YAAY,CAACE,OAAb,CAAqBM,IAAI,CAACG,CAAD,CAAzB,CAAlB;AACD;AACF,KAJD,CAIE,OAAOG,GAAP,EAAY;AACZ,UAAMC,GAAG,GAAG;AACVC,QAAAA,IAAI,EAAE,CADI;AAEVF,QAAAA,GAAG,sDAAsBG,IAAI,CAACC,SAAL,CAAeV,IAAf,CAAtB,CAFO;AAGVW,QAAAA,MAAM,EAAEL;AAHE,OAAZ;AAMAT,MAAAA,KAAK,IAAIA,KAAK,CAACU,GAAD,CAAd;AACAT,MAAAA,MAAM,IAAIA,MAAM,CAACS,GAAD,CAAhB;AAEA;AACD;;AAEDX,IAAAA,OAAO,IAAIA,OAAO,CAACM,MAAD,CAAlB;AACAH,IAAAA,OAAO,IAAIA,OAAO,CAACG,MAAD,CAAlB;AACD,GAxBY;AAyBbU,EAAAA,OAzBa,mBAyBJjB,OAzBI,SAyB0C;AAAA,QAAnCC,OAAmC,SAAnCA,OAAmC;AAAA,QAA1BC,KAA0B,SAA1BA,KAA0B;AAAA,QAAnBC,MAAmB,SAAnBA,MAAmB;AAAA,QAAXC,OAAW,SAAXA,OAAW;AACrD,QAAMC,IAAI,GAAGa,MAAM,CAACb,IAAP,CAAYL,OAAZ,CAAb;;AAEA,QAAI;AACF,WAAK,IAAIQ,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGJ,IAAI,CAACK,MAA3B,EAAmCF,CAAC,GAAGC,GAAvC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C,YAAMF,GAAG,GAAGD,IAAI,CAACG,CAAD,CAAhB;;AAEA,YAAIF,GAAG,KAAK,SAAR,IAAqBA,GAAG,KAAK,OAAjC,EAA0C;AACxCT,UAAAA,YAAY,CAACoB,OAAb,CAAqBX,GAArB,EAA0BN,OAAO,CAACM,GAAD,CAAjC;AACD;AACF;AACF,KARD,CAQE,OAAOK,GAAP,EAAY;AACZ,UAAIQ,QAAQ,GAAG,EAAf;;AAEA,UAAIR,GAAG,CAACS,IAAJ,KAAa,oBAAjB,EAAuC;AACrCD,QAAAA,QAAQ,GAAG,uBAAX;AACD,OAFD,MAEO;AACLA,QAAAA,QAAQ,GAAG,mBAAX;AACD;;AAEDjB,MAAAA,KAAK,IAAIA,KAAK,CAACiB,QAAD,CAAd;AACAhB,MAAAA,MAAM,IAAIA,MAAM,CAACgB,QAAD,CAAhB;AAEA;AACD;;AAEDlB,IAAAA,OAAO,IAAIA,OAAO,CAAC,EAAD,CAAlB;AACAG,IAAAA,OAAO,IAAIA,OAAO,CAAC,EAAD,CAAlB;AACD,GArDY;AAsDbiB,EAAAA,UAtDa,sBAsDDrB,OAtDC,SAsD6C;AAAA,QAAnCC,OAAmC,SAAnCA,OAAmC;AAAA,QAA1BC,KAA0B,SAA1BA,KAA0B;AAAA,QAAnBE,OAAmB,SAAnBA,OAAmB;AAAA,QAAVD,MAAU,SAAVA,MAAU;AACxD,QAAME,IAAI,GAAGL,OAAO,CAACM,GAArB;;AAEA,QAAI;AACF,WAAK,IAAIE,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGJ,IAAI,CAACK,MAA3B,EAAmCF,CAAC,GAAGC,GAAvC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/C,YAAMF,GAAG,GAAGD,IAAI,CAACG,CAAD,CAAhB;AAEAX,QAAAA,YAAY,CAACwB,UAAb,CAAwBf,GAAxB;AACD;AACF,KAND,CAME,OAAOK,GAAP,EAAY;AACZ,UAAMC,GAAG,GAAG;AACVC,QAAAA,IAAI,EAAE,CADI;AAEVF,QAAAA,GAAG,sDAAsBN,IAAtB,CAFO;AAGVW,QAAAA,MAAM,EAAEL;AAHE,OAAZ;AAMAT,MAAAA,KAAK,IAAIA,KAAK,CAACU,GAAD,CAAd;AACAT,MAAAA,MAAM,IAAIA,MAAM,CAACS,GAAD,CAAhB;AACD;;AAEDX,IAAAA,OAAO,IAAIA,OAAO,CAAC,EAAD,CAAlB;AACAG,IAAAA,OAAO,IAAIA,OAAO,CAAC,EAAD,CAAlB;AACD;AA5EY,CAAf","sourcesContent":["const localStorage = window.localStorage;\n\nexport default {\n  getItem (options, { success, error, reject, resolve }) {\n    const keys = options.key;\n    const values = {};\n\n    try {\n      for (let i = 0, len = keys.length; i < len; i++) {\n        values[keys[i]] = localStorage.getItem(keys[i]);\n      }\n    } catch (msg) {\n      const err = {\n        code: 0,\n        msg: `localStorage值获取出错${JSON.stringify(keys)}`,\n        result: msg\n      };\n\n      error && error(err);\n      reject && reject(err);\n\n      return;\n    }\n\n    success && success(values);\n    resolve && resolve(values);\n  },\n  setItem (options, { success, error, reject, resolve }) {\n    const keys = Object.keys(options);\n\n    try {\n      for (let i = 0, len = keys.length; i < len; i++) {\n        const key = keys[i];\n  \n        if (key !== 'success' && key !== 'error') {\n          localStorage.setItem(key, options[key]);\n        }\n      }\n    } catch (msg) {\n      let errorMsg = '';\n\n      if (msg.name === 'QuotaExceededError') {\n        errorMsg = '超出本地存储限额，建议先清除一些无用空间!';\n      } else {\n        errorMsg = 'localStorage存储值出错';\n      }\n\n      error && error(errorMsg);\n      reject && reject(errorMsg);\n\n      return;\n    }\n\n    success && success({});\n    resolve && resolve({});\n  },\n  removeItem (options, { success, error, resolve, reject }) {\n    const keys = options.key;\n\n    try {\n      for (let i = 0, len = keys.length; i < len; i++) {\n        const key = keys[i];\n  \n        localStorage.removeItem(key);\n      }\n    } catch (msg) {\n      const err = {\n        code: 0,\n        msg: `localStorage值删除出错${keys}`,\n        result: msg\n      };\n\n      error && error(err);\n      reject && reject(err);\n    }\n\n    success && success({});\n    resolve && resolve({});\n  }\n}"]}]}