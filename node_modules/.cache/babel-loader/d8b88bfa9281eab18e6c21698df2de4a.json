{"remainingRequest":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js!/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gujiahao/Documents/work/github/artweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gujiahao/Documents/work/github/artweb/src/showcase/pulltorefresh.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gujiahao/Documents/work/github/artweb/src/showcase/pulltorefresh.vue","mtime":1588230106632},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/babel-loader/lib/index.js","mtime":1585810045725},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/cache-loader/dist/cjs.js","mtime":1579587180818},{"path":"/Users/gujiahao/Documents/work/github/artweb/node_modules/vue-loader/lib/index.js","mtime":1585810053320}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"/Users/gujiahao/Documents/work/github/artweb/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\nimport \"core-js/modules/es6.function.name\";\nimport \"vant/es/pull-refresh/style\";\nimport _PullRefresh from \"vant/es/pull-refresh\";\n\nvar _components;\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Util from '@utils';\nimport vanSearch from '@components/search';\nimport vanButton from '@components/button';\nimport vanCell from '@components/cell';\nimport vanCellGroup from '@components/cellgroup';\nexport default {\n  name: 'list',\n  components: (_components = {\n    vanSearch: vanSearch,\n    vanButton: vanButton\n  }, _defineProperty(_components, _PullRefresh.name, _PullRefresh), _defineProperty(_components, _List.name, _List), _defineProperty(_components, \"vanCell\", vanCell), _defineProperty(_components, \"vanCellGroup\", vanCellGroup), _components),\n  data: function data() {\n    return {\n      searchValue: '',\n      pullLoading: false,\n      upLoading: false,\n      finished: false,\n      pageSize: 10,\n      pageIndex: 0,\n      listdata: []\n    };\n  },\n  methods: {\n    /**\n     * 下拉刷新回调\n     */\n    onRefresh: function onRefresh() {\n      var _this = this;\n\n      this.pageIndex = 0;\n      this.finished = false;\n      this.upLoading = true;\n      setTimeout(function () {\n        _this.getList();\n      }, 500);\n    },\n\n    /**\n     * 获取列表\n     */\n    getList: function getList() {\n      var _this2 = this;\n\n      Util.ajax({\n        url: 'https://www.easy-mock.com/mock/5d24037eb491124e37cee77d/mobileframemock/getlist',\n        data: JSON.stringify({\n          token: 'RXBvaW50X1dlYlNlcml2Y2VfKiojIzA2MDE=',\n          params: {\n            pageindex: this.pageIndex,\n            pagesize: this.pageSize,\n            keyword: this.searchValue\n          }\n        }),\n        success: function success(_ref) {\n          var custom = _ref.custom;\n          var infolist = custom.infolist || [];\n          var len = infolist.length;\n\n          if (_this2.pageIndex === 0) {\n            _this2.listdata = infolist;\n          } else if (len > 1) {\n            infolist.forEach(function (e) {\n              _this2.listdata.push(e);\n            });\n          } // 加载状态结束\n\n\n          _this2.upLoading = false;\n          _this2.pullLoading = false;\n          _this2.pageIndex++;\n\n          if (len === 0) {\n            _this2.finished = true;\n          }\n        }\n      });\n    },\n\n    /**\n     * 上拉刷新回调\n     */\n    onLoad: function onLoad() {\n      var _this3 = this;\n\n      setTimeout(function () {\n        _this3.getList();\n      }, 500);\n    },\n\n    /**\n     * 搜索\n     */\n    onSearch: function onSearch() {\n      this.pullLoading = true;\n      this.onRefresh();\n    }\n  }\n};",{"version":3,"sources":["pulltorefresh.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,OAAA,IAAA,MAAA,QAAA;AACA,OAAA,SAAA,MAAA,oBAAA;AACA,OAAA,SAAA,MAAA,oBAAA;AAEA,OAAA,OAAA,MAAA,kBAAA;AACA,OAAA,YAAA,MAAA,uBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,SAAA,EAAA;AAFA,kCAGA,aAAA,IAHA,8CAIA,MAAA,IAJA,kDAKA,OALA,gDAMA,YANA,eAFA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA,KAHA;AAIA,MAAA,QAAA,EAAA,KAJA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,CANA;AAOA,MAAA,QAAA,EAAA;AAPA,KAAA;AASA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA;;;AAGA,IAAA,SAJA,uBAIA;AAAA;;AACA,WAAA,SAAA,GAAA,CAAA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,WAAA,SAAA,GAAA,IAAA;AAEA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA;AACA,OAFA,EAEA,GAFA,CAAA;AAGA,KAZA;;AAaA;;;AAGA,IAAA,OAhBA,qBAgBA;AAAA;;AACA,MAAA,IAAA,CAAA,IAAA,CAAA;AACA,QAAA,GAAA,EAAA,iFADA;AAEA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,KAAA,EAAA,sCADA;AAEA,UAAA,MAAA,EAAA;AACA,YAAA,SAAA,EAAA,KAAA,SADA;AAEA,YAAA,QAAA,EAAA,KAAA,QAFA;AAGA,YAAA,OAAA,EAAA,KAAA;AAHA;AAFA,SAAA,CAFA;AAUA,QAAA,OAAA,EAAA,uBAAA;AAAA,cAAA,MAAA,QAAA,MAAA;AACA,cAAA,QAAA,GAAA,MAAA,CAAA,QAAA,IAAA,EAAA;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,MAAA;;AAEA,cAAA,MAAA,CAAA,SAAA,KAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,GAAA,QAAA;AACA,WAFA,MAEA,IAAA,GAAA,GAAA,CAAA,EAAA;AACA,YAAA,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA;AACA,aAFA;AAGA,WAVA,CAYA;;;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,WAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,SAAA;;AAEA,cAAA,GAAA,KAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA;AACA;AA9BA,OAAA;AAgCA,KAjDA;;AAkDA;;;AAGA,IAAA,MArDA,oBAqDA;AAAA;;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,OAAA;AACA,OAFA,EAEA,GAFA,CAAA;AAGA,KAzDA;;AA0DA;;;AAGA,IAAA,QA7DA,sBA6DA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,WAAA,SAAA;AACA;AAhEA;AArBA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <van-search\n      v-model=\"searchValue\"\n      class=\"search-area\"\n      placeholder=\"请输入搜索关键词\"\n      :show-action=\"true\"\n      background=\"#fff\"\n      @search=\"onSearch\"\n    >\n      <div slot=\"action\">\n        <van-button type=\"info\" size=\"small\" class=\"srh-btn\" @click=\"onSearch\">搜索</van-button>\n      </div>\n    </van-search>\n\n    <div class=\"van-content\">\n      <van-pull-refresh v-model=\"pullLoading\" @refresh=\"onRefresh\">\n        <van-list v-model=\"upLoading\" :finished=\"finished\" @load=\"onLoad\" finished-text=\"没有更多数据了\">\n          <van-cell-group>\n            <van-cell v-for=\"(item, index) in listdata\" :key=\"index\" :title=\"item.title\"></van-cell>\n          </van-cell-group>\n        </van-list>\n      </van-pull-refresh>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Util from '@utils';\nimport vanSearch from '@components/search';\nimport vanButton from '@components/button';\nimport { PullRefresh, List } from 'vant';\nimport vanCell from '@components/cell';\nimport vanCellGroup from '@components/cellgroup';\n\nexport default {\n  name: 'list',\n  components: {\n    vanSearch,\n    vanButton,\n    [PullRefresh.name]: PullRefresh,\n    [List.name]: List,\n    vanCell,\n    vanCellGroup\n  },\n  data() {\n    return {\n      searchValue: '',\n      pullLoading: false,\n      upLoading: false,\n      finished: false,\n      pageSize: 10,\n      pageIndex: 0,\n      listdata: []\n    };\n  },\n  methods: {\n    /**\n     * 下拉刷新回调\n     */\n    onRefresh() {\n      this.pageIndex = 0;\n      this.finished = false;\n      this.upLoading = true;\n\n      setTimeout(() => {\n        this.getList();\n      }, 500);\n    },\n    /**\n     * 获取列表\n     */\n    getList() {\n      Util.ajax({\n        url: 'https://www.easy-mock.com/mock/5d24037eb491124e37cee77d/mobileframemock/getlist',\n        data: JSON.stringify({\n          token: 'RXBvaW50X1dlYlNlcml2Y2VfKiojIzA2MDE=',\n          params: {\n            pageindex: this.pageIndex,\n            pagesize: this.pageSize,\n            keyword: this.searchValue\n          }\n        }),\n        success: ({ custom }) => {\n          const infolist = custom.infolist || [];\n          const len = infolist.length;\n\n          if (this.pageIndex === 0) {\n            this.listdata = infolist;\n          } else if (len > 1) {\n            infolist.forEach(e => {\n              this.listdata.push(e);\n            });\n          }\n\n          // 加载状态结束\n          this.upLoading = false;\n          this.pullLoading = false;\n          this.pageIndex++;\n\n          if (len === 0) {\n            this.finished = true;\n          }\n        }\n      });\n    },\n    /**\n     * 上拉刷新回调\n     */\n    onLoad() {\n      setTimeout(() => {\n        this.getList();\n      }, 500);\n    },\n    /**\n     * 搜索\n     */\n    onSearch() {\n      this.pullLoading = true;\n      this.onRefresh();\n    }\n  }\n};\n</script>\n\n<style scoped>\n.srh-btn {\n  height: 34px;\n  font-size: 14px;\n}\n\n.search-area {\n  border-bottom: 1px solid #ebedf0;\n}\n\n.van-content {\n  top: 55px;\n}\n</style>\n"],"sourceRoot":"src/showcase"}]}